æˆ‘ä¸ºæ‚¨å°†æ•´ä¸ªé¡¹ç›®æ–‡æ¡£ç¿»è¯‘æˆäº†è‹±æ–‡ï¼Œä¿æŒäº†åŸæœ‰ç»“æ„ï¼Œå¹¶åŠ å…¥äº†æ‚¨ä¹‹å‰è®¨è®ºçš„â€œæƒ…æ„Ÿå£°æ™¯â€ï¼ˆEmotional Soundscapeï¼‰ä½œä¸ºæ–°çš„â€œéŸ³ä¹äº¤äº’â€æ¨¡å—ã€‚ğŸŒŸ Emotion-Sensing Interactive Light and Sound SystemAn innovative IoT interactive project that uses Arduino sensors to collect environmental data, creating a virtual pet system capable of perceiving and responding to environmental changes.ğŸ“‹ Project FeaturesCore FunctionsMulti-Sensor Environmental PerceptionTemperature and Humidity Monitoring (DHT22)Light Intensity Detection (Photoresistor Sensor)Motion Detection (PIR Sensor)Acceleration Sensing (3-axis Accelerometer)Knob Control InputIntelligent Emotion SystemEmotion calculation based on environmental parametersDynamic emotional states (Joyful, Happy, Normal, Gloomy, Sad)Emotions affect Energy and Happiness valuesReal-Time Interactive FeedbackLED strip color changes with emotionServo motor action responseReal-time animation on the web interfaceWebSocket for bi-directional communicationRich Visual EffectsDynamic virtual pet animationParticle effect systemBreathing, flowing, and flashing LED effectsResponsive UI designEmotional Soundscape (New Music Module)Buzzer/Speaker outputs simple tones and rhythms mapped to the pet's current emotion (e.g., high pitch for Joyful, low and slow for Sad).ğŸ› ï¸ Hardware RequirementsEssential ComponentsSeeed XIAO Development Board (ESP32C3/nRF52840 Sense/SAMD21)1 Meter Waterproof LED Strip (WS2812B)Servo MotorDHT22 Temperature and Humidity SensorPIR Motion SensorPhotoresistor SensorRotary Knob SensorBuzzer or Mini Speaker Module (For Emotional Soundscape)Optional Components20-key Mini Remote Control + IR Receiver3-axis Accelerometer4-color LED ModuleXIAO Multi-functional Expansion BoardğŸ“¦ Software Installation1. Python Environment SetupBash# Install Python dependencies
pip install -r requirements.txt
2. Arduino SetupInstall Arduino IDEInstall necessary libraries:Adafruit NeoPixelDHT sensor libraryServoSelect the correct board type for your development boardUpload arduino_code.ino to the development board3. Hardware ConnectionPin DefinitionsComponentArduino PinLED StripD6Servo MotorD9DHT22D2PIR SensorD3PhotoresistorA0KnobA1IR ReceiverD7Buzzer/SpeakerD8 (Example Pin)ğŸš€ Running the Project1. Start the Python ServerBashpython app.py
The server will start at http://localhost:50002. Access the Web InterfaceOpen your browser and visit http://localhost:50003. Start InteractingClick "Feed" to increase energyClick "Play" to increase happiness valueClick "Pet" to soothe the petObserve how environmental changes affect the pet's emotionğŸ¨ System Working PrincipleData FlowSensor Acquisition â†’ Arduino reads all sensor dataSerial Communication â†’ Data is sent to Python via USBData Processing â†’ Python calculates the emotional stateWebSocket Push â†’ Web interface is updated in real-timeFeedback Control â†’ Controls LED and Servo responses and Buzzer tone/rhythmEmotion AlgorithmPythonEmotion_Value = Temp_Comfort_Score * 0.3 + Light_Comfort_Score * 0.3 + 
                Happiness_Value * 0.3 + Interaction_Frequency * 0.1
LED Color MappingğŸŸ¢ Green: Very Happy (Emotion Value $\ge$ 80)ğŸ”µ Blue: Happy (Emotion Value $\ge$ 60)ğŸŸ¡ Yellow: Normal (Emotion Value $\ge$ 40)ğŸ”´ Red: Gloomy (Emotion Value < 40)ğŸ”§ Custom ConfigurationModify Sensor ThresholdsAdjust the following in app.py:Python# Temperature Comfort Range
TEMP_COMFORT_MIN = 20
TEMP_COMFORT_MAX = 26

# Ideal Light Value
LIGHT_IDEAL = 60
Add New Interaction ActionsAdd a button to the webpageAdd processing logic in PythonAdd corresponding servo or sound action in ArduinoLED Animation ModesSwitch modes by sending commands via serial:ANIM:BREATH - Breathing lightANIM:FLOW - Flowing effectANIM:BLINK - Flashing effectğŸ“Š Data MonitoringThe system provides real-time data monitoring:Environmental Temperature/HumidityLight IntensityMotion Detection StatusEmotion/Energy/Happiness Value trendsğŸ® Extended Gameplay1. Music InteractionIntegrate a sound sensor to let the pet respond to music rhythm.2. Weather LinkageConnect to a weather API to let outside weather affect the pet's mood.3. Multi-User InteractionAdd a user system for multiple people to collectively care for the virtual pet.4. AI DialogueIntegrate voice recognition for voice interaction with the pet.5. Mobile ControlDevelop a mobile app for remote pet care.ğŸ› TroubleshootingArduino Connection FailureCheck USB connectionConfirm the correct serial portCheck baud rate setting (9600)No Sensor DataCheck wiring correctnessVerify sensor power supply (3.3V or 5V)Test individual sensor functionalityWebpage InaccessibleConfirm the Python server is runningCheck firewall settingsTry using 127.0.0.1 instead of localhostğŸ“ Project Structureemotion-sensing-system/
â”œâ”€â”€ app.py                 # Python Backend Server
â”œâ”€â”€ arduino_code.ino       # Arduino Firmware
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html        # Web Interface
â”œâ”€â”€ requirements.txt       # Python Dependencies
â””â”€â”€ README.md             # Project Documentation
ğŸŒˆ Future Plans[ ] Add data storage and historical records[ ] Implement machine learning for emotion prediction[ ] Support multiple virtual pets[ ] Add social sharing features[ ] Develop a mobile applicationğŸ“„ Open Source LicenseMIT LicenseğŸ¤ Contribution GuideFeel free to submit Issues and Pull Requests!ğŸ’¡ Creative SourceThis project aims to explore the combination of IoT and emotional computing, creating an intelligent system that can perceive the environment and express emotions through hardware sensors and software algorithms, bringing a new interactive experience to users.
